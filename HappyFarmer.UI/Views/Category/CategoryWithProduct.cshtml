@model List<HappyFarmer.Entities.FarmerProduct>
@{
    ViewData["Title"] = "CategoryWithProduct";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="breadcrumbs_area">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="breadcrumb_content">
                    <h3>Filtreleme Ekranı</h3>
                    <ul>
                        <li><a asp-controller="Home" asp-action="Index">Anasayfa</a></li>
                        <li>Filtreleme Ekranı</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="shop_area shop_reverse mt-70 mb-70">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-12">
                <aside class="sidebar_widget">
                    <div class="widget_inner">
                        <div class="widget_list widget_categories">
                            <h3>Şehre Göre Filtrele</h3>
                            <ul>
                                <li class="widget_sub_categories sub_categories1">
                                    <a href="javascript:void(0)">İl Seçiniz</a>
                                    <ul class="widget_dropdown_categories dropdown_categories1">
                                        @foreach (var item in ViewBag.CityWithFilter)
                                        {
                                            <li><a asp-action="CategoryWithProduct" asp-route-type="@ViewBag.Type" asp-route-City="@item.Cities">@item.Cities </a></li>
                                        }
                                    </ul>
                                </li>
                                @*<li class="widget_sub_categories sub_categories2">
                                    <a href="javascript:void(0)">Bags</a>
                                    <ul class="widget_dropdown_categories dropdown_categories2">
                                        <li><a href="#">Flickr</a></li>
                                        <li><a href="#">Flip Box</a></li>
                                        <li><a href="#">Cocktail</a></li>
                                        <li><a href="#">Frame</a></li>
                                        <li><a href="#">Flickrq</a></li>
                                    </ul>
                                </li>
                                <li class="widget_sub_categories sub_categories3">
                                    <a href="javascript:void(0)">Clothing</a>
                                    <ul class="widget_dropdown_categories dropdown_categories3">
                                        <li><a href="#">Platform Beds</a></li>
                                        <li><a href="#">Storage Beds</a></li>
                                        <li><a href="#">Regular Beds</a></li>
                                        <li><a href="#">Sleigh Beds</a></li>
                                        <li><a href="#">Laundry</a></li>
                                    </ul>
                                </li>*@
                            </ul>
                        </div>
                        <div class="widget_filter">
                            <h3>Fiyata Göre Filtrele</h3>
                            <form asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@ViewBag.Type" method="get">

                                <input type="hidden" class="form-control" name="type" value="@ViewBag.Type">
                                <input type="number" name="lowPrice" min="0" max="10000">
                                <input type="number" name="topPrice" min="0" max="10000">
                                <button type="submit" style="margin-left:2px;" class="btn btn-info btn-sm">Filtrele</button>

                            </form>
                        </div><br />
                        <div class="widget_list widget_color">
                            <h3>Kategorilere Göre Filtrele</h3>
                            <ul>
                                <li>
                                    <a asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@HappyFarmer.DataAccess.Enums.ProductAnimalEnum.KucukBas">Küçük Baş Hayvanclık</a>
                                </li>
                                <li>
                                    <a asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@HappyFarmer.DataAccess.Enums.ProductAnimalEnum.BuyukBas">Büyük Baş Hayvancılık</a>
                                </li>
                                <li>
                                    <a asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@HappyFarmer.DataAccess.Enums.ProductAnimalEnum.Kumes">Kümes Hayvanları</a>
                                </li>
                                <li>
                                    <a asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@HappyFarmer.DataAccess.Enums.ProductAnimalEnum.Evcil">Evcil Hayvanlar</a>
                                </li>
                                <li>
                                    <a asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@HappyFarmer.DataAccess.Enums.ProductAnimalEnum.Sut">Süt Ürünleri</a>
                                </li>
                                <li>
                                    <a asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@HappyFarmer.DataAccess.Enums.ProductAnimalEnum.YiyecekIcecek">Hayvansal Gıda</a>
                                </li>
                                <li>
                                    <a asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@HappyFarmer.DataAccess.Enums.ProductAgricultureEnum.Traktor">Traktörler</a>
                                </li>
                                <li>
                                    <a asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@HappyFarmer.DataAccess.Enums.ProductAgricultureEnum.Tarla">Tarla & Arazi</a>
                                </li>
                                <li>
                                    <a asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@HappyFarmer.DataAccess.Enums.ProductAgricultureEnum.Ekipman">Traktör Ekipmanları</a>
                                </li>
                                <li>
                                    <a asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@HappyFarmer.DataAccess.Enums.ProductAgricultureEnum.Sebze">Sebzeler</a>
                                </li>
                                <li>
                                    <a asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@HappyFarmer.DataAccess.Enums.ProductAgricultureEnum.Meyve">Meyveler</a>
                                </li>
                                <li>
                                    <a asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@HappyFarmer.DataAccess.Enums.ProductAgricultureEnum.Tahıl">Tahıl Ürünleri</a>
                                </li>
                                <li>
                                    <a asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@HappyFarmer.DataAccess.Enums.ProductAgricultureEnum.YemAndOtsuBitki">Yem ve Otsu Bitkiler</a>
                                </li>
                            </ul>
                        </div>
                        <div class="widget_list widget_color">
                            <h3>Şehirlere Göre Filtrele</h3>
                            <form asp-controller="Category" asp-action="CategoryWithProduct" asp-route-type="@ViewBag.Type" method="get">

                                <input type="hidden" class="form-control" name="type" value="@ViewBag.Type">

                                <input type="text" style="margin-top:2px;" placeholder="İl" value="Konya" class="form-control" name="City">

                                <input class="form-control" style="margin-top:4px;"  placeholder="İlçe" value="Cihanbeyli" type="text" name="Country">

                                <input class="form-control" style="margin-top:4px;"  placeholder="Mahalle" value="Ağabeyli" type="text" name="Neighborhood">

                                <button type="submit" style="margin-top:4px; text-align=center; width:100%" class="btn btn-warning btn-sm">Filtrele</button>

                            </form>
                        </div>
                        <div class="widget_list widget_manu">
                            <h3>Manufacturer</h3>
                            <ul>
                                <li>
                                    <a href="#">Brake Parts <span>(6)</span></a>
                                </li>
                                <li>
                                    <a href="#">Accessories <span>(10)</span></a>
                                </li>
                                <li>
                                    <a href="#">Engine Parts <span>(4)</span></a>
                                </li>
                                <li>
                                    <a href="#">hermes <span>(10)</span></a>
                                </li>
                                <li>
                                    <a href="#">louis vuitton <span>(8)</span></a>
                                </li>

                            </ul>
                        </div>
                        <div class="widget_list tags_widget">
                            <h3>Product tags</h3>
                            <div class="tag_cloud">
                                <a href="#">Men</a>
                                <a href="#">Women</a>
                                <a href="#">Watches</a>
                                <a href="#">Bags</a>
                                <a href="#">Dress</a>
                                <a href="#">Belt</a>
                                <a href="#">Accessories</a>
                                <a href="#">Shoes</a>
                            </div>
                        </div>
                        <div class="widget_list banner_widget">
                            @if (ViewBag.LowerBanner != null)
                            {
                                @foreach (var item in ViewBag.LowerBanner)
                                {
                                    <div class="banner_thumb">
                                        <a href="#"><img src="~/img/BannerImages/@item.ImageURL" alt=""></a>
                                    </div>
                                }
                            }

                        </div>
                    </div>
                </aside>
            </div>
            <div class="col-lg-9 col-md-12">
                <div class="shop_toolbar_wrapper">
                    <div class="shop_toolbar_btn">

                        <button data-role="grid_3" type="button" class="active btn-grid-3" data-toggle="tooltip" title="3"></button>

                        <button data-role="grid_4" type="button" class=" btn-grid-4" data-toggle="tooltip" title="4"></button>

                        <button data-role="grid_list" type="button" class="btn-list" data-toggle="tooltip" title="List"></button>
                    </div>
                    <div class=" niceselect_option">
                        <form class="select_option" action="#">
                            <select name="orderby" id="short">

                                <option selected="" value="1">Sort by average rating</option>
                                <option value="2">Sort by popularity</option>
                                <option value="3">Sort by newness</option>
                                <option value="4">Sort by price: low to high</option>
                                <option value="5">Sort by price: high to low</option>
                                <option value="6">Product Name: Z</option>
                            </select>
                        </form>
                    </div>
                    <div class="page_amount">
                        <p>Showing 1–9 of 21 results</p>
                    </div>
                </div>
                <div class="site-section site-section-sm bg-light">
                    <div class="container">
                        <div class="row mb-5">
                            @foreach (var item in Model)
                            {
                                <div class="col-md-6 col-lg-4 mb-4">
                                    <div class="property-entry h-100">
                                        <a href="property-details.html" class="property-thumbnail">
                                            <a asp-controller="Product" asp-action="GetAllProductDetails" asp-route-id="@item.Id"><img style="width:250px;height:250px;" src="~/img/ProductImages/@item.ImageUrl" alt="Image" class="img-fluid"></a>
                                        </a>

                                        <div class="p-4 property-body">
                                            <center> <h5 class="property-title"><a asp-controller="Product" asp-action="GetAllProductDetails" asp-route-id="@item.Id">@item.Name</a></h5></center>
                                            <center>
                                                @{
                                                    var oldPrice = (item.Price * 20) / 100;
                                                    var newPrice = item.Price + oldPrice;
                                                }
                                                <span class="current_price">₺ @item.Price</span>
                                                <span class="old_price"><s>₺ @newPrice</s></span>
                                            </center>
                                        </div>
                                        <div class="card-footer text-center">
                                            <a asp-controller="Product" asp-action="GetAllProductDetails" asp-route-id="@item.Id" class="btn btn-info btn-sm">Detay</a>
                                            <a asp-controller="Shop" asp-action="Details" asp-route-id="@item.Id" class="btn btn-success btn-sm ml-2">Sepete Ekle</a>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>

                <div class="shop_toolbar t_bottom">
                    <div class="pagination">
                        <ul>
                            <li class="current">1</li>
                            <li><a href="#">2</a></li>
                            <li><a href="#">3</a></li>
                            <li class="next"><a href="#">next</a></li>
                            <li><a href="#">>></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
